const{keys:aX}=Object;(function(){var a=!1,b=/data:([\w!#$&+-^]+\/[\w!#$&+-^]+)?(;[\w!#$&+-^]+)*;base64,[\d+/A-Za-z]+={0,2}/g,c=/^(import(?:\s+\*\s+as\s+\w+|\s+\w+|\s*\{[^}]*\})\s+from\s+)["']([^"']+)["'];?\s*(?!\/{2}\s*wrecked-no-grab=true)\n/m,d=/^[a-z][a-z\d+\-.]*:/;a&&(window.onerror=(a,b,c,d,E)=>{let F=`${E.stack}`;F=F.replace(b,'<data uri>');document.readyState=='complete'?(document.body.innerHTML=`<pre style="font-size:14px;color:red;padding-left:15px;"></pre>`,document.querySelector('body pre').innerText=text4):(alert(F));let G=setInterval(()=>{},0);for(let j=1;j<=i;j++)clearInterval(j)},window.onunhandledrejection=C=>onerror(null,null,null,null,{stack:e.reason.stack||e.reason}));var A=/(?<!\\)\//;let f=null;let g=null;let h=[];function _(..._a){let _b=[];!_a[0].startsWith('/')&&(_a=[g].concat(_a));for(const D of _a)for(const _A of D.split(A))if(_A==''||_A=='.')continue;else _A=='..'?_b.pop():_b.push(_A);return '/'+_b.filter(x=>x!=='').join('/')}if(window.location.protocol=='file:'){var B=fetch;window.fetch=async function(aA){if(d.test(aA))return await B(aA);var _B=_(aA);if(typeof f[_B]=='string')return f[_B];let _c=await f[_B].text();let _d=c.exec(_c);while (_d) {let aB=_d[2];!(/^\.?\.?\//.test(aB))?aB=`https://unpkg.com/${aB}?module`:aB='_wrecked'+_(aB);_c=_c.replace(_d[0],_d[1]+'"'+aB+'"; // wrecked-no-grab=true\n');_d=c.exec(_c)}return new Response(_c, {status:200,statusText:'OK'})}}async function K(aC){const{type:aD,src:_C}=aC;let{data:_D}=aC;if(_D==void 0){if(!_C)return;_D=await fetch(_C)}if(aD=='importmap'){var _e=JSON.parse(_D);let aE=[];for(const[aF,aG] of Object.entries(_e.imports))aE.push([aF,await getURL(aG)]);_e.imports=Object.fromEntries(aE);_D=JSON.stringify(_e)}var _f=document.createElement('script');_f.textContent=_D;_f.setAttribute('data-wrecked-no-grab','true');_f.type=aD;document.body.appendChild(_f)}async function l(){var aH=Object.fromEntries(aX(f).map(k=>[`_wrecked${k}`,k]));await K({type:'importmap',data:JSON.stringify({imports:aH})});for(const aI of h)await K(aI)}function m(aJ){if(aJ.tagName&&aJ.tagName=='SCRIPT'&&!aJ.getAttribute('data-wrecked-no-grab')){var aK=aJ.getAttribute('type');aJ.setAttribute('type','text/plain');aJ.parentNode.removeChild(aJ);aJ.setAttribute('data-wrecked-no-grab','true');src=aJ.getAttribute('src');if(src&&src!=='<anonymous code>')window.location.protocol=='file:'?h.push({type:aK,src:src}):fetch(aJ.src).then(aL=>{if(aL.ok)aL.text().then(aM=>h.push({type:aK,data:aM}));else console.error(`Unable to fetch script from ${aJ.src} due to a ${aL.status} ${aL.statusText} `)});else{if(!(/^\s+\/\/[^\n]*wrecked-no-grab=true/.test(aJ.textContent)))return;h.push({type:aK,data:aJ.textContent})}}}document.querySelectorAll('script').forEach(m);new MutationObserver(function(aN){for(const aO of aN)for(const aP of aO.addedNodes)m(aP)}).observe(document.documentElement,{childList:!0,subtree:!0});window.opener&&(window.addEventListener('message',async function(aQ){const{mode:aR,type:aS,request:aT,data:_E}=aQ.data;if(aR=='response')if(aS=='filemap'){f=_E;if(g!==null)l()}else if(aS=='currentpath'){g=_E;if(f!==null)l()}}),window.opener.postMessage({mode:'request',type:'filemap'},'*'),window.opener.postMessage({mode:'request',type:'currentpath'},'*'));window.require=async function(aU){var aV=await f[resolvePath(aU)].text();var aW={require:require,module:{exports:{}}};Function(`'use strict'; ${aV}`).bind(aW)();return aW.module.exports}})();
