const{keys:aY}=Object;(function(){var a=!1,b=/data:([\w!#$&+-^]+\/[\w!#$&+-^]+)?(;[\w!#$&+-^]+)*;base64,[\d+/A-Za-z]+={0,2}/g,c=/^(import(?:\s+\*\s+as\s+\w+|\s+\w+|\s*\{[^}]*\})\s+from\s+)["']([^"']+)["'];?\s*(?!\/{2}\s*wrecked-no-grab=true)\n/m,d=/^[a-z][a-z\d+\-.]*:/;a&&(window.onerror=(a,b,c,d,E)=>{let F=`${E.stack}`;F=F.replace(b,'<data uri>');document.readyState=='complete'?(document.body.innerHTML=`<pre style="font-size:14px;color:red;padding-left:15px;"></pre>`,document.querySelector('body pre').innerText=text4):(alert(F));let G=setInterval(()=>{},0);for(let j=1;j<=i;j++)clearInterval(j)},window.onunhandledrejection=C=>onerror(null,null,null,null,{stack:e.reason.stack||e.reason}));var A=/(?<!\\)\//;let f=null;let g=null;let h=[];function _(..._a){let _b=[];!_a[0].startsWith('/')&&(_a=[g].concat(_a));for(const D of _a)for(const _A of D.split(A))if(_A==''||_A=='.')continue;else _A=='..'?_b.pop():_b.push(_A);return '/'+_b.filter(x=>x!=='').join('/')}if(window.location.protocol=='file:'){var B=fetch;window.fetch=async function(aA){if(d.test(aA))return await B(aA);var _B=_(aA);if(typeof f[_B]=='string')return f[_B];let _c=await f[_B].text();let _d=c.exec(_c);while (_d) {let[aB,aC,_C]=_d;if(_C=='three')_C='https://unpkg.com/three@0.170.0/build/three.module.js?module';else _C.startsWith('three/addons/')?_C=`https://unpkg.com/three@0.170.0/examples/jsm/${_C.slice('three/addons/'.length)}?module`:_C='_wrecked'+_(_C);_c=_c.replace(aB,aC+'"'+_C+'"; // wrecked-no-grab=true\n');_d=c.exec(_c)}return new Response(_c, {'status':200,'statusText':'OK'})}}async function K(aD){const{type:aE,src:aF}=aD;let{data:_D}=aD;if(_D==void 0){if(!aF)return;_D=await fetch(aF)}if(aE=='importmap'){var _e=JSON.parse(_D);let aG=[];for(const[aH,aI] of Object.entries(_e.imports))aG.push([aH,await getURL(aI)]);_e.imports=Object.fromEntries(aG);_D=JSON.stringify(_e)}var _f=document.createElement('script');_f.textContent=_D;_f.setAttribute('data-wrecked-no-grab','true');_f.type=aE;document.body.appendChild(_f)}async function l(){let i=0;await K({type:'importmap',data:JSON.stringify({imports:Object.fromEntries(aY(f).map(k=>[`_wrecked${k}`,k]))})});for(const aJ of h)await K(aJ)}function m(aK){if(aK.tagName&&aK.tagName=='SCRIPT'&&!aK.getAttribute('data-wrecked-no-grab')){var aL=aK.getAttribute('type');aK.setAttribute('type','text/plain');aK.parentNode.removeChild(aK);aK.setAttribute('data-wrecked-no-grab','true');src=aK.getAttribute('src');if(src&&src!=='<anonymous code>')window.location.protocol=='file:'?h.push({type:aL,src:src}):fetch(aK.src).then(aM=>{if(aM.ok)aM.text().then(aN=>h.push({type:aL,data:aN}));else console.error(`Unable to fetch script from ${aK.src} due to a ${aM.status} ${aM.statusText} `)});else{if(!(/^\s+\/\/[^\n]*wrecked-no-grab=true/.test(aK.textContent)))return;h.push({type:aL,data:aK.textContent})}}}document.querySelectorAll('script').forEach(m);new MutationObserver(function(aO){for(const aP of aO)for(const aQ of aP.addedNodes)m(aQ)}).observe(document.documentElement,{childList:!0,subtree:!0});window.opener&&(window.addEventListener('message',async function(aR){const{mode:aS,type:aT,request:aU,data:_E}=aR.data;if(aS=='response')if(aT=='filemap'){f=_E;if(g!==null)l()}else if(aT=='currentpath'){g=_E;if(f!==null)l()}}),window.opener.postMessage({mode:'request',type:'filemap'},'*'),window.opener.postMessage({mode:'request',type:'currentpath'},'*'));window.require=async function(aV){var aW=await f[resolvePath(aV)].text();var aX={require:require,module:{exports:{}}};Function(`'use strict'; ${aW}`).bind(aX)();return aX.module.exports}});
